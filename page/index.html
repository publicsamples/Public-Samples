<!DOCTYPE html>
<html lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/  dc: http://purl.org/dc/terms/  foaf: http://xmlns.com/foaf/0.1/  og: http://ogp.me/ns#  rdfs: http://www.w3.org/2000/01/rdf-schema#  schema: http://schema.org/  sioc: http://rdfs.org/sioc/ns#  sioct: http://rdfs.org/sioc/types#  skos: http://www.w3.org/2004/02/skos/core#  xsd: http://www.w3.org/2001/XMLSchema# " class="no-js adaptivetheme">
  <head>
    <link href="http://modularsamples.com/themes/ms/images/touch-icons/Icon-60.png" rel="apple-touch-icon" sizes="60x60" /><link href="http://modularsamples.com/themes/ms/images/touch-icons/Icon-76.png" rel="apple-touch-icon" sizes="76x76" /><link href="http://modularsamples.com/themes/ms/images/touch-icons/Icon-60-2x.png" rel="apple-touch-icon" sizes="120x120" /><link href="http://modularsamples.com/themes/ms/images/touch-icons/Icon-76-2x.png" rel="apple-touch-icon" sizes="152x152" /><link href="http://modularsamples.com/themes/ms/images/touch-icons/Icon-60-3x.png" rel="apple-touch-icon" sizes="180x180" /><link href="http://modularsamples.com/themes/ms/images/touch-icons/Icon-192x192.png" rel="icon" sizes="192x192" />
    <meta charset="utf-8" />
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-2231938-9"></script>
<script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments)};gtag("js", new Date());gtag("config", "UA-2231938-9", {"groups":"default","linker":{"domains":["modularsamples.com"]},"anonymize_ip":true});</script>
<meta name="Generator" content="Drupal 8 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="/themes/ms/normalize.css" />
<script type="text/javascript" src="/external-js/Tone.js"></script>
<script type="text/javascript" src="/external-js/audiokeys.js"></script>
<script type="text/javascript" src="/external-js/tonejs-ui.js"></script>
<script type="text/javascript" src="/external-js/NexusUI.js"></script>
<script src="https://cdn.jsdelivr.net/npm/webmidi"></script>
<link rel="shortcut icon" href="/sites/default/files/mainbg.png" type="image/png" />

    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com"><title>Modularsamples</title>
    <link rel="stylesheet" media="all" href="/sites/default/files/css/css_NRR6ewrOUh3v4sODaVZgL28UtIUsqD-TAZOlGoX0maw.css?q5lps8" />
<link rel="stylesheet" media="all" href="/sites/default/files/css/css_7zxoISgXCv2tgLkUeBK1rjymMp4ZkXWFucxqnlQP97E.css?q5lps8" />
<link rel="stylesheet" media="all" href="https://fonts.googleapis.com/css?family=Quicksand&amp;amp;display=swap" />
<link rel="stylesheet" media="all" href="/sites/default/files/css/css_JcG6Z80fDGT2o-LfTWsUY6Qx6rSYQL-nEyYHw0HLVts.css?q5lps8" />

    <script src="/core/assets/vendor/modernizr/modernizr.min.js?v=3.3.1"></script>

  </head>

<tone-oscilloscope></tone-oscilloscope><body role="document" class="layout-type--page-layout user-logged-out path-not-frontpage path-page site-name--modularsamples theme-name--ms">
        <a href="#block-ms-content" class="visually-hidden focusable skip-link">Skip to main content</a>
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas>
    
<div class="page js-layout">
  <div data-at-row="header" class="l-header l-row">
  
  <header class="l-pr page__row pr-header" role="banner" id="masthead">
    <div class="l-rw regions container pr-header__rw arc--1 hr--1" data-at-regions="">
      <div  data-at-region="1" data-at-block-count="1" class="l-r region pr-header__header-first" id="rid-header-first"><div id="block-ms-branding" class="l-bl block block-branding block-config-provider--system block-plugin-id--system-branding-block has-name" id="system-branding-block">
  <div class="block__inner block-branding__inner">

    <div class="block__content block-branding__content site-branding"><span class="site-branding__text"><strong class="site-branding__name"><a href="/" title="Home" itemprop="url" rel="home" class="site-branding__name-link">Modularsamples</a></strong></span></div></div>
</div>
</div>
    </div>
  </header>
  
</div>
<div data-at-row="highlighted" class="l-highlighted l-row">
  
  <div class="l-pr page__row pr-highlighted" id="highlighted">
    <div class="l-rw regions container pr-highlighted__rw arc--1 hr--1" data-at-regions="">
      <div  data-at-region="1" data-at-block-count="1" class="l-r region pr-highlighted__highlighted" id="rid-highlighted"><div class="l-bl block--messages" id="system-messages-block" data-drupal-messages><div data-drupal-messages-fallback class="hidden"></div></div></div>
    </div>
  </div>
  
</div>
<div data-at-row="main" class="l-main l-row">
  
  <div class="l-pr page__row pr-main" id="main-content">
    <div class="l-rw regions container pr-main__rw arc--1 hr--1" data-at-regions="">
      <div  data-at-region="1" data-at-block-count="2" class="l-r region pr-main__content" id="rid-content"><main id="block-ms-content--3" class="l-bl block block-main-content" role="main" id="system-main-block">
  
  <div class="page_variant page-variant--id-page-panels-variant-0 panels-page panels-page--page atl atl--grid-3x3">
  <div class="atl__lr atl__cw">
              <div class="atl__lc lc-r1c1 lc-1">
        <div class="block-region-r1c1"><div class="l-bl block block-config-provider--block-content block-plugin-id--block-content-31bbdb58-9678-4c64-8e29-8c18209150cb has-title block--type-basic block--view-mode-full" role="region" aria-labelledby="-title"id="block-content31bbdb58-9678-4c64-8e29-8c18209150cb">
  <div class="block__inner">

    <h2  class="block__title" id="-title"><span>AutoFilter</span></h2><div class="block__content"><div class="clearfix text-formatted field field-block-content--body field-formatter-text-default field-name-body field-type-text-with-summary field-label-hidden has-single"><div class="field__items"><div class="field__item"><div class="grid-filter">
<div class="grid-item">
<p class="text-align-center">Wet</p>
</div>

<div class="grid-item">
<div class="text-align-center" id="fwet">Cut</div>
</div>

<div class="grid-item">
<p class="text-align-center">Res</p>
</div>
</div>

<div class="grid-filter2">
<div class="grid-item">
<p class="text-align-center">Dpth</p>
</div>

<div class="grid-item">
<p class="text-align-center">Spd</p>
</div>
</div>
</div></div>
</div>
</div></div>
</div>
<div class="l-bl block block-config-provider--block-content block-plugin-id--block-content-426eca68-e6ea-40de-9c8a-60eb2565a5ea has-title block--type-basic block--view-mode-full" role="region" aria-labelledby="-title"id="block-content426eca68-e6ea-40de-9c8a-60eb2565a5ea">
  <div class="block__inner">

    <h2  class="block__title" id="-title"><span>Chorus</span></h2><div class="block__content"><div class="clearfix text-formatted field field-block-content--body field-formatter-text-default field-name-body field-type-text-with-summary field-label-hidden has-single"><div class="field__items"><div class="field__item"><div class="grid-chorus">
	
<div class="grid-item">
<p>Wet</p>
</div>

<div class="grid-item">
<div id="cwet"></div>
</div>

<div class="grid-item">
<p>Time</p>
</div>

<div class="grid-item">
<div id="ctime"></div>
</div>


<div class="grid-item">
<p>Depth</p>
</div>

<div class="grid-item">
<div id="cdepth"></div>
</div>

<div class="grid-item">
<p>Speed</p>
</div>

<div class="grid-item">
<div id="cfreq"></div>
</div>
</div></div></div>
</div>
</div></div>
</div>
<div class="l-bl block block-config-provider--block-content block-plugin-id--block-content-ea342fb5-7779-4f05-870e-f07f5466ac32 has-title block--type-basic block--view-mode-full" role="region" aria-labelledby="-title"id="block-contentea342fb5-7779-4f05-870e-f07f5466ac32">
  <div class="block__inner">

    <h2  class="block__title" id="-title"><span>Controls</span></h2><div class="block__content"><div class="clearfix text-formatted field field-block-content--body field-formatter-text-default field-name-body field-type-text-with-summary field-label-hidden has-single"><div class="field__items"><div class="field__item"><div class="grid-env">
<div class="grid-item">
<p>Vol</p>
</div>

<div class="grid-item">
<div id="vol"></div>
</div>


<div class="grid-item">
<p>Atk</p>
</div>

<div class="grid-item">
<div id="attack"></div>
</div>

<div class="grid-item">
<p>Rel</p>
</div>

<div class="grid-item">
<div id="release"></div>
</div>
</div>





</div></div>
</div>
</div></div>
</div>
<div class="l-bl block block-config-provider--block-content block-plugin-id--block-content-96de5361-cfee-4c6a-be06-c124cef27d7b has-title block--type-basic block--view-mode-full" role="region" aria-labelledby="-title"id="block-content96de5361-cfee-4c6a-be06-c124cef27d7b">
  <div class="block__inner">

    <h2  class="block__title" id="-title"><span>Delay</span></h2><div class="block__content"><div class="clearfix text-formatted field field-block-content--body field-formatter-text-default field-name-body field-type-text-with-summary field-label-hidden has-single"><div class="field__items"><div class="field__item"><div class="grid-delay">
<div class="grid-item">
<p>Wet</p>
</div>

<div class="grid-item">
<div id="dwet"></div>
</div>

<div class="grid-item">
<p>Time</p>
</div>

<div class="grid-item">
<div id="dtime"></div>
</div>

<div class="grid-item">
<p>Feed</p>
</div>


<div class="grid-item">
<div id="dfeedback"></div>
</div>
</div>
</div></div>
</div>
</div></div>
</div>
<div class="l-bl block block-config-provider--core block-plugin-id--page-title-block"id="page-title-block">
  <div class="block__inner">

    <div class="block__content">

</div></div>
</div>
<div class="l-bl block block-config-provider--block-content block-plugin-id--block-content-2133502b-e557-48a4-bafe-7e3c8b5c4503 has-title block--type-basic block--view-mode-full" role="region" aria-labelledby="-title"id="block-content2133502b-e557-48a4-bafe-7e3c8b5c4503">
  <div class="block__inner">

    <h2  class="block__title" id="-title"><span>Reverb</span></h2><div class="block__content"><div class="clearfix text-formatted field field-block-content--body field-formatter-text-default field-name-body field-type-text-with-summary field-label-hidden has-single"><div class="field__items"><div class="field__item"><div class="grid-reverb">

<div class="grid-item">
<p>Wet</p>
</div>

<div class="grid-item">
<div id="rwet"></div>
</div>

<div class="grid-item">
<p>Size</p>
</div>

<div class="grid-item">
<div id="roomSize"></div>
</div>


<div class="grid-item">
<p>Damp</p>
</div>

<div class="grid-item">
<div id="dampening"></div>
</div>

</div>
</div></div>
</div>
</div></div>
</div>
</div>
      </div>
    
          <div class="atl__lc lc-r1c2 lc-2">
        <div class="block-region-r1c2"><div class="l-bl block block-config-provider--block-content block-plugin-id--block-content-a2490e01-f952-4735-ba3b-4805545e142d has-title block--type-basic block--view-mode-full" role="region" aria-labelledby="-title"id="block-contenta2490e01-f952-4735-ba3b-4805545e142d">
  <div class="block__inner">

    <h2  class="block__title" id="-title"><span>seq</span></h2><div class="block__content"><div class="clearfix text-formatted field field-block-content--body field-formatter-text-default field-name-body field-type-text-with-summary field-label-hidden has-single"><div class="field__items"><div class="field__item">
<tone-transport></tone-transport>

<tone-step-sequencer id="seq1"></tone-step-sequencer>

</div></div>
</div>
</div></div>
</div>
</div>
      </div>
    
    
        
    
    
        
          <div class="atl__lc lc-r3c2 lc-8">
        <div class="block-region-r3c2"><div class="l-bl block block-config-provider--block-content block-plugin-id--block-content-97d12a4b-901d-4838-92db-bf1e5e4c9b64 block--type-basic block--view-mode-full"id="block-content97d12a4b-901d-4838-92db-bf1e5e4c9b64">
  <div class="block__inner">

    <div class="block__content"><div class="clearfix text-formatted field field-block-content--body field-formatter-text-default field-name-body field-type-text-with-summary field-label-hidden has-single"><div class="field__items"><div class="field__item"><script type="text/javascript">

function loadJS(file) {
// DOM: Create the script element
var jsElm = document.createElement("script");
// set the type attribute
jsElm.type = "application/javascript";
// make the script element load file
jsElm.src = file;
// finally insert the element to the body element in order to load the script
document.body.appendChild(jsElm);
}



var midi = {};
 
WebMidi.enable(function (err) {
     
    if (err) {
      console.log("WebMidi could not be enabled.", err);
      return;
    } else {
      console.log("WebMidi enabled!");
      console.log(WebMidi.inputs);
         console.log(WebMidi.outputs);
    }
 
    WebMidi.inputs.forEach((o) => {
      console.log(o.name)
   
    o.addListener('noteon', "all", function (e) {
       
      console.log(e)
 
        let octave = parseInt(e.note.octave);
        let note = e.note.name + octave;
      console.log(note)
 
        if (!(note in midi)) {
           
            console.log(keys)
            keys.triggerAttack(note, Tone.context.currentTime + 0.01, e.velocity);
            midi[note] = keys;
        }
    });
   
        o.addListener('noteoff', "all", function (e) {
            let octave = parseInt(e.note.octave);
            let note = e.note.name + octave;
            let keys = midi[note];
 
            if (keys) {
                keys.triggerRelease(note, undefined, e.velocity);
                delete midi[note];
            }
        });
    });
     
});




//////////////////////////

var eq = new Tone.Volume({
    "volume" : -12
    
}).toMaster({
})

var verb = new Tone.Freeverb({
"wet" : 0.0
}).connect(eq);    

//the feedback delay
var feedbackDelay = new Tone.PingPongDelay({
"wet" : 0.0
}).connect(verb);        

var chorus = new Tone.Chorus({
    "wet" : 0.0
}).connect(feedbackDelay);        


var filter = new Tone.AutoFilter({
    "wet" : 0.0
}).connect(chorus).start();        


//the notes
var noteNames = ["B3", "A#3", "A3", "G#3", "G3", "F#3", "F3", "E3","D#3", "D3", "C#3", "C3", "B2", "A#2", "A2", "G#2","G2", "F#2", "F2", "E2","D#2", "D2", "C#2", "C2"  ];






var loop = new Tone.Sequence(function(time, col){
var column = document.querySelector("#seq1").currentColumn;
column.forEach(function(val, i){
if (val){

//slightly randomized velocities
keys.triggerAttackRelease(noteNames[i], "0.25", time);
}
});

Tone.Transport.start("+0.2");
//set the columne on the correct draw frame
Tone.Draw.schedule(function(){
document.querySelector("#seq1").setAttribute("highlight", col);
}, time);
}, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "16n").start(0);


function stop() {
Tone.Transport.stop();
keys.disconnect();
keys.dispose();
}



Nexus.colors.accent = "#806f14"
Nexus.colors.fill = "#ecd7a2"


//aENV Controls

var release = new Nexus.Slider('#release', {
'mode': 'relative', // "absolute" or "absolute"
'size': [18, 50],
'min': 0.01,
'max': 4.00,
'step': 0,
'value': 0
})

release.on('change', function(v) {
keys.release = v;
});



//chorus Controls

var cwet = new Nexus.Slider('#cwet', {
'mode': 'relative', // "absolute" or "absolute"
'size': [18, 50],
'min': 0.0,
'max': 1.0,
'step': 0,
'value': 0
})

cwet.on('change', function(v) {
chorus.wet.value = v;
});


var cfreq = new Nexus.Slider('#cfreq', {
'mode': 'relative', // "absolute" or "absolute"
'size': [18, 50],
'min': 0.1,
'max': 2.0,
'step': 0,
'value': 0.60
})

cfreq.on('change', function(v) {
chorus.frequency.value = v;
});

//delay Controls

var dwet = new Nexus.Slider('#dwet', {
'mode': 'relative', // "absolute" or "absolute"
'size': [18, 50],
'min': 0.0,
'max': 1.0,
'step': 0,
'value': 0
})

dwet.on('change', function(v) {
feedbackDelay.wet.value = v;
});

var dtime = new Nexus.Slider('#dtime', {
'mode': 'relative', // "absolute" or "absolute"
'size': [18, 50],
'min': 0.01,
'max': 1.0,
'step': 0,
'value': 0.25
})

dtime.on('change', function(v) {
feedbackDelay.delayTime.value = v;
});


//Reverb Controls

var rwet = new Nexus.Slider('#rwet', {
'mode': 'relative', // "absolute" or "absolute"
'size': [18, 50],
'min': 0.0,
'max': 1.0,
'step': 0,
'value': 0
})

rwet.on('change', function(v) {
verb.wet.value = v;
});


//Transport/seq Controls

var vol = new Nexus.Slider('#vol', {size: [18, 50], min: -36, max: 12,  value: -12});
vol.on('change', v => eq.volume.value = v)

document.querySelector("tone-transport").bind(Tone.Transport);
Tone.Transport.on("stop", () => {
setTimeout(() => {
document.querySelector("#seq1").setAttribute("highlight", "-1");

}, 100);

});
        document.querySelector("tone-oscilloscope").bind(eq);
//keys


var keyboard = new AudioKeys(
    {
        rootNote: 36
        
    }
);

Tone.context.currentTime + 0.01

keyboard.down(function(note) {
keys.triggerAttack(Tone.Frequency(note.note, "midi").toNote());
});

keyboard.up(function(note) {
keys.triggerRelease(Tone.Frequency(note.note, "midi").toNote());
});

// Enable WebMidi.js




</script>
</div></div>
</div>
</div></div>
</div>
</div>
      </div>
    
      </div>
</div>

  
</main>
</div>
    </div>
  </div>
  
</div>
<div data-at-row="content-suffix" class="l-content-suffix l-row">
  
  <div class="l-pr page__row pr-content-suffix" id="content-suffix">
    <div class="l-rw regions container pr-content-suffix__rw arc--1 hr--1" data-at-regions="">
      <div  data-at-region="1" data-at-block-count="1" class="l-r region pr-content-suffix__content-suffix" id="rid-content-suffix"><div id="block-twit" class="l-bl block block-config-provider--block-content block-plugin-id--block-content-54a1fbc0-d662-48f9-8142-2b8d14737cae block--type-basic block--view-mode-full"id="block-content54a1fbc0-d662-48f9-8142-2b8d14737cae">
  <div class="block__inner">

    <div class="block__content"><div class="clearfix text-formatted field field-block-content--body field-formatter-text-default field-name-body field-type-text-with-summary field-label-hidden has-single"><div class="field__items"><div class="field__item"><h5 class="text-align-center"><a href="https://twitter.com/modularsamples">Twitter</a> - <a href="https://www.facebook.com/ModularSamples/">Facebook</a> - <a href="https://github.com/publicsamples">Github</a> - <a href="https://freesound.org/people/modularsamples/">Freesound</a></h5>
</div></div>
</div>
</div></div>
</div>
</div>
    </div>
  </div>
  
</div>
<div data-at-row="footer" class="l-footer l-row">
  
  <footer class="l-pr page__row pr-footer" role="contentinfo" id="footer">
    <div class="l-rw regions container pr-footer__rw arc--1 hr--1" data-at-regions="">
      <div  data-at-region="1" data-at-block-count="1" class="l-r region pr-footer__footer" id="rid-footer"><div id="block-builtwith" class="l-bl block block-config-provider--block-content block-plugin-id--block-content-1dc05664-2e50-43ba-be77-94e311735695 block--type-basic block--view-mode-full"id="block-content1dc05664-2e50-43ba-be77-94e311735695">
  <div class="block__inner">

    <div class="block__content"><div class="clearfix text-formatted field field-block-content--body field-formatter-text-default field-name-body field-type-text-with-summary field-label-hidden has-single"><div class="field__items"><div class="field__item"><p class="text-align-center">Built with: <a href="https://tonejs.github.io">ToneJS</a> - <a href="https://nexus-js.github.io/ui/">NexusUI</a> - <a href="https://github.com/djipco/webmidi">WebMidi.js</a> - <a href="https://www.drupal.org">Drupal</a> - <a href="https://tome.fyi/">Tome</a></p>

<p class="text-align-center">2020 modularsamples.com</p>
</div></div>
</div>
</div></div>
</div>
</div>
    </div>
  </footer>
  
</div>

  
</div>

  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"page","currentPathIsAdmin":true,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","ajaxPageState":{"theme":"ms","libraries":"at_core\/at.breakpoints,at_core\/at.grid-3x3,at_core\/at.responsivemenus,at_core\/at.settings,google_analytics\/google_analytics,ms\/base,ms\/ckeditor,ms\/color,ms\/comment,ms\/contact,ms\/custom_css,ms\/custom_css_file,ms\/fontfaceobserver,ms\/fonts,ms\/google_fonts,ms\/image_styles,ms\/jquery_ui,ms\/ms.layout.page,ms\/responsive_menus,ms\/responsive_menus_dropmenu,ms\/responsive_tables,ms\/search,ms\/superfish,ms\/taxonomy,ms\/title_styles,system\/admin"},"google_analytics":{"account":"UA-2231938-9","trackOutbound":true,"trackMailto":true,"trackDownload":true,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackDomainMode":2,"trackCrossDomains":["modularsamples.com"]},"ms":{"at_responsivemenus":{"bp":"all and (max-width: 60em)","default":"ms-dropmenu","responsive":"ms-dropmenu","acd":{"acd_load":false,"acd_default":false,"acd_responsive":false,"acd_both":true}},"at_breakpoints":{"at_core_simple_wide":{"breakpoint":"wide","mediaquery":"all and (min-width: 60.0625em)"},"at_core_simple_tablet-isolate":{"breakpoint":"tablet-isolate","mediaquery":"all and (min-width: 45.0625em) and (max-width: 60em)"},"at_core_simple_mobile":{"breakpoint":"mobile","mediaquery":"all and (max-width: 45em)"}}},"user":{"uid":0,"permissionsHash":"9c7b5d50b0b6c2b3238509045304c5c50311db619ed36a1674a71a8022e81558"}}</script>
<script src="/sites/default/files/js/js_qenJeBw2njetFhP69OFOsT-WfuI4rshvzZN9WENbxCc.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fontfaceobserver/2.0.8/fontfaceobserver.js"></script>
<script src="/sites/default/files/js/js_G4K6wfohJENxm7f-tZEUj-sKDY9Ikgg-jGTvjplJcwY.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/enquire.js/2.1.2/enquire.min.js"></script>
<script src="/sites/default/files/js/js_IXXM0JyuKXLkx6vQcq8R_JR95o07Mkzej4e-E9tCYsg.js"></script>

  </body>
</html>
