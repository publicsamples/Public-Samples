<!DOCTYPE html>
<html dir="ltr" lang="en-US">

<head>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="N.P. Brosowsky" content="Tone.js instrument library loader" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />


  
	============================================= -->
    <title>ToneJS-Instruments Demo</title>

</head>

<body>
    <style type="text/css">
        body {
            height: 100vh;
            width: 100vw;
            font-family: Helvetica, arial;
            font-size: 16px;
        }

        #content {
            height: 100%;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;

        }

        .container {
            display: none;
        }

        #Keyboard {
            margin: 3px!important;
        }

    </style>
  <tone-piano polyphonic></tone-piano>
    <div id="content">
		
        <H3 id="loading">Loading...</H3>
        <div class="container">
            <h1> Tone.js-Instruments</h1>
            <p> (all instruments) </p>
			
            <div id="Selector"></div>
            <br/>
         
        </div>

    </div>
    <script type="text/javascript" src="../libraries/Tone/nprogress.js"></script>

    <script type="text/javascript" src="../libraries/Tone/NexusUI.js"></script>
    <script type="text/javascript" src="../libraries/Tone/Tone.js"></script>
    <script type="text/javascript" src="../libraries/Tone/Tonejs-Instruments.js"></script>
    <script type="text/javascript" src="../libraries/Tone/tonejs-ui.js"></script>
    <script>
        NProgress.start();
        // load samples //

        var samples = SampleLibrary.load({
            instruments: ['piano', 'bass-electric', 'bassoon', 'cello', 'clarinet', 'contrabass', 'flute', 'french-horn', 'guitar-acoustic', 'guitar-electric','guitar-nylon', 'harmonium', 'harp', 'organ', 'saxophone', 'trombone', 'trumpet', 'tuba', 'violin', 'xylophone'],
            baseUrl: "/samples/"
        })


        // show keyboard on load //
        var current
        Tone.Buffer.on('load', function() {
            document.querySelector(".container").style.display = 'block';
            document.querySelector("#loading").style.display = 'none';
            NProgress.done();

            // loop through instruments and set release, connect to master output
            for (var property in samples) {
                if (samples.hasOwnProperty(property)) {
                    console.log(samples[property])
                    samples[property].release = .5;
                    samples[property].toMaster();
                }
            }

            current = samples['piano'];

            select.on('change', function(v) {
                current = samples[v.value];
            })


        })

      


        // create Nexus UI //
        Nexus.colors.accent = "#f00"

        var select = new Nexus.Select('#Selector', {
            'size': [300, 30],
            'options': Object.keys(samples)
        });

     
			document.querySelector("tone-piano").bind(samples);
    </script>

</body>

</html>
